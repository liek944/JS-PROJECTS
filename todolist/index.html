<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Todo List</title>

        <!-- FONTS (optional) -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />

        <style>
            :root {
                --bg: #0b0c10;
                --panel: #111318;
                --muted: #8b93a7;
                --text: #e9ecf1;
                --primary: #7c91ff;
                --primary-600: #6277f7;
                --accent: #3ddc97;
                --danger: #ff6b6b;
                --ring: 0 0 0 3px rgba(124, 145, 255, 0.35);
                --radius: 16px;
                --shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
                --border: 1px solid rgba(255, 255, 255, 0.06);
            }
            @media (prefers-color-scheme: light) {
                :root {
                    --bg: #f6f7fb;
                    --panel: #ffffff;
                    --muted: #6b7280;
                    --text: #0f172a;
                    --primary: #4f46e5;
                    --primary-600: #4338ca;
                    --accent: #10b981;
                    --danger: #ef4444;
                    --shadow: 0 10px 24px rgba(2, 6, 23, 0.08);
                    --border: 1px solid rgba(2, 6, 23, 0.08);
                }
            }
            * {
                box-sizing: border-box;
            }
            html,
            body {
                height: 100%;
            }
            body {
                margin: 0;
                font-family:
                    Inter,
                    system-ui,
                    -apple-system,
                    Segoe UI,
                    Roboto,
                    Helvetica,
                    Arial,
                    "Apple Color Emoji",
                    "Segoe UI Emoji";
                background: linear-gradient(
                    180deg,
                    var(--bg),
                    color-mix(in oklab, var(--bg), #000 8%)
                );
                color: var(--text);
                display: grid;
                place-items: center;
                padding: 32px;
            }

            .app {
                width: min(720px, 100%);
                background: var(--panel);
                border: var(--border);
                border-radius: var(--radius);
                box-shadow: var(--shadow);
                overflow: hidden;
            }

            /* header */
            .header {
                padding: 20px 24px;
                display: flex;
                align-items: center;
                gap: 12px;
                justify-content: space-between;
                border-bottom: var(--border);
            }
            .brand {
                display: flex;
                align-items: center;
                gap: 12px;
            }
            .logo {
                width: 36px;
                height: 36px;
                border-radius: 12px;
                display: grid;
                place-items: center;
                background: linear-gradient(
                    135deg,
                    var(--primary),
                    var(--accent)
                );
                color: white;
                font-weight: 800;
            }
            .title {
                font-size: 1.15rem;
                font-weight: 700;
                letter-spacing: 0.3px;
            }
            .date {
                font-size: 0.85rem;
                color: var(--muted);
            }

            /* input row */
            .composer {
                padding: 20px 24px;
                display: flex;
                gap: 12px;
                align-items: center;
            }
            .field {
                position: relative;
                flex: 1;
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 12px 14px;
                background: color-mix(in oklab, var(--panel), #fff 3%);
                border: var(--border);
                border-radius: 12px;
            }
            .field input {
                border: none;
                outline: none;
                background: transparent;
                width: 100%;
                color: var(--text);
                font-size: 1rem;
            }
            .add-btn {
                appearance: none;
                border: none;
                cursor: pointer;
                padding: 12px 16px;
                border-radius: 12px;
                font-weight: 700;
                background: var(--primary);
                color: white;
                transition:
                    transform 0.05s ease,
                    background 0.2s ease;
            }
            .add-btn:active {
                transform: translateY(1px);
            }
            .add-btn:focus-visible {
                outline: none;
                box-shadow: var(--ring);
            }

            /* toolbar */
            .toolbar {
                padding: 12px 16px;
                display: flex;
                gap: 10px;
                align-items: center;
                justify-content: space-between;
                border-top: var(--border);
                border-bottom: var(--border);
            }
            .filters {
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
            }
            .chip {
                padding: 8px 12px;
                border-radius: 999px;
                border: var(--border);
                background: transparent;
                color: var(--text);
                font-weight: 600;
                font-size: 0.9rem;
                cursor: pointer;
                user-select: none;
            }
            .chip[aria-pressed="true"] {
                background: color-mix(in oklab, var(--primary), #000 10%);
                border-color: transparent;
            }
            .meta {
                font-size: 0.9rem;
                color: var(--muted);
            }

            /* list */
            .list {
                display: flex;
                flex-direction: column;
                gap: 8px;
                padding: 16px;
            }
            .empty {
                display: grid;
                place-items: center;
                text-align: center;
                padding: 48px;
                color: var(--muted);
                border: var(--border);
                border-radius: 12px;
                background: color-mix(in oklab, var(--panel), #fff 2%);
            }

            .item {
                display: grid;
                grid-template-columns: auto 1fr auto;
                align-items: center;
                gap: 12px;
                padding: 12px;
                border-radius: 12px;
                border: var(--border);
                background: color-mix(in oklab, var(--panel), #fff 3%);
            }
            .checkbox {
                width: 20px;
                height: 20px;
                display: grid;
                place-items: center;
                border-radius: 6px;
                border: var(--border);
                cursor: pointer;
            }
            .label {
                font-size: 1rem;
            }
            .label.completed {
                color: var(--muted);
                text-decoration: line-through;
            }
            .actions {
                display: flex;
                gap: 6px;
            }
            .icon-btn {
                appearance: none;
                border: none;
                background: transparent;
                cursor: pointer;
                padding: 8px;
                border-radius: 10px;
            }
            .icon-btn:hover {
                background: color-mix(in oklab, var(--panel), #fff 5%);
            }
            .icon-btn:focus-visible {
                outline: none;
                box-shadow: var(--ring);
            }
            .handle {
                cursor: grab;
            }

            /* footer */
            .footer {
                padding: 16px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                color: var(--muted);
            }
            .bulk {
                display: flex;
                gap: 8px;
            }
            .ghost {
                border: var(--border);
                padding: 8px 12px;
                border-radius: 10px;
                background: transparent;
                color: inherit;
                cursor: pointer;
            }
            .ghost:hover {
                background: color-mix(in oklab, var(--panel), #fff 5%);
            }

            /* utils */
            @media (max-width: 560px) {
                .title {
                    font-size: 1rem;
                }
                .composer {
                    flex-direction: column;
                }
                .add-btn {
                    width: 100%;
                }
                .toolbar {
                    gap: 10px;
                    flex-direction: column;
                    align-items: stretch;
                }
                .footer {
                    flex-direction: column;
                    gap: 10px;
                    align-items: flex-start;
                }
            }
            /* Icon defaults (you can swap with SVGs) */
            .i {
                width: 18px;
                height: 18px;
                display: inline-block;
            }
            .i.edit {
                border: 1.5px solid currentColor;
                border-left: none;
                border-top: none;
                transform: rotate(45deg) skew(-5deg);
                width: 14px;
                height: 14px;
            }
            .i.trash {
                border: 1.6px solid currentColor;
                border-radius: 3px;
                position: relative;
            }
            .i.trash::after {
                content: "";
                position: absolute;
                left: 2px;
                right: 2px;
                top: -4px;
                height: 2px;
                border: 1.6px solid currentColor;
                border-bottom: none;
                border-left: none;
                border-right: none;
            }
            .i.drag {
                border: 1.5px dotted currentColor;
                border-left: none;
                border-right: none;
                height: 10px;
            }
        </style>
    </head>
    <body>
        <main class="app" aria-labelledby="app-title">
            <header class="header">
                <div class="brand">
                    <div class="logo" aria-hidden="true">✓</div>
                    <div>
                        <h1 id="app-title" class="title">Todo</h1>
                        <div class="date" id="today"></div>
                    </div>
                </div>
                <div class="meta" id="stats" aria-live="polite">0 items</div>
            </header>

            <!-- Composer -->
            <section class="composer" aria-label="Add a task">
                <div class="field">
                    <input
                        id="todo-input"
                        type="text"
                        placeholder="Add a new task…"
                        autocomplete="off"
                        aria-label="Task title"
                        data-js="input"
                    />
                </div>
                <button class="add-btn" id="add-btn" data-js="add">Add</button>
            </section>

            <!-- Toolbar -->
            <section class="toolbar" aria-label="Filters and info">
                <div class="filters" role="toolbar" aria-label="Filters">
                    <button class="chip" data-filter="all" aria-pressed="true">
                        All
                    </button>
                    <button class="chip" data-filter="active">Active</button>
                    <button class="chip" data-filter="completed">
                        Completed
                    </button>
                </div>
                <div class="meta" id="remaining">0 remaining</div>
            </section>

            <!-- List -->
            <section class="list" id="todo-list" aria-label="Todo items">
                <div class="empty" id="empty">
                    Nothing here yet. Add your first task!
                </div>

                <!-- Template for JS cloning -->
                <template id="item-template">
                    <article class="item" data-id="">
                        <button
                            class="checkbox"
                            role="checkbox"
                            aria-checked="false"
                            data-js="toggle"
                            title="Toggle done"
                        ></button>
                        <label class="label" data-js="label">Sample task</label>
                        <div class="actions">
                            <button
                                class="icon-btn"
                                data-js="edit"
                                title="Edit"
                            >
                                <span class="i edit" aria-hidden="true"></span>
                            </button>
                            <button
                                class="icon-btn"
                                data-js="delete"
                                title="Delete"
                            >
                                <span class="i trash" aria-hidden="true"></span>
                            </button>
                            <button
                                class="icon-btn handle"
                                data-js="drag"
                                title="Drag to reorder"
                            >
                                <span class="i drag" aria-hidden="true"></span>
                            </button>
                        </div>
                    </article>
                </template>
            </section>

            <!-- Footer -->
            <footer class="footer">
                <div class="bulk">
                    <button
                        class="ghost"
                        id="complete-all"
                        data-js="completeAll"
                    >
                        Complete all
                    </button>
                    <button
                        class="ghost"
                        id="clear-completed"
                        data-js="clearCompleted"
                    >
                        Clear completed
                    </button>
                </div>
                <small>Tip: double‑click a task to edit</small>
            </footer>
        </main>
        <script>
  // Grab elements
  const input = document.querySelector('[data-js="input"]');
  const addBtn = document.querySelector('[data-js="add"]');
  const todoList = document.getElementById("todo-list");
  const template = document.getElementById("item-template");

  const stats = document.getElementById("stats");
  const remaining = document.getElementById("remaining");

  // --- Helper: update counters ---
  function updateStats() {
    const items = todoList.querySelectorAll(".item");
    const total = items.length;
    const active = [...items].filter(item =>
      !item.querySelector('[data-js="label"]').classList.contains("completed")
    ).length;

    stats.textContent = `${total} items`;
    remaining.textContent = `${active} remaining`;
  }

  // --- Add new task ---
  addBtn.addEventListener("click", function () {
    const enteredInput = input.value.trim();
    if (enteredInput !== "") {
      // clone template
      const clonedContent = template.content.cloneNode(true);
      // set the label text
      clonedContent.querySelector('[data-js="label"]').textContent = enteredInput;

      // attach events to the new item
      const newItem = clonedContent.querySelector(".item");

      // toggle complete
      newItem.querySelector('[data-js="toggle"]').addEventListener("click", function () {
        const label = newItem.querySelector('[data-js="label"]');
        const checked = this.getAttribute("aria-checked") === "true";
        this.setAttribute("aria-checked", (!checked).toString());
        label.classList.toggle("completed", !checked);
        updateStats();
      });

      // delete item
      newItem.querySelector('[data-js="delete"]').addEventListener("click", function () {
        newItem.remove();
        updateStats();
      });

      // add to list
      todoList.appendChild(clonedContent);

      // clear input + update counters
      input.value = "";
      updateStats();
    }
  });
</script>

        <!--
      JS HOOKS REFERENCE
      - [data-js="input"]           -> read new task text
      - [data-js="add"]             -> add new task
      - #todo-list                    -> container for items
      - #item-template                -> clone for new items
      Within each .item:
        - [data-js="toggle"]         -> checkbox toggle (aria-checked true/false)
        - [data-js="label"]          -> text element (toggle .completed on done)
        - [data-js="edit"]           -> open inline edit mode
        - [data-js="delete"]         -> remove item
        - [data-js="drag"]           -> handle for drag & drop
      Toolbar:
        - [data-filter] buttons       -> set active filter and aria-pressed
        - #remaining, #stats          -> counters
      Bulk actions:
        - [data-js="completeAll"], [data-js="clearCompleted"]

    --></body>
</html>
